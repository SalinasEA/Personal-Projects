{"ast":null,"code":"import { Customer } from 'src/app/model/customer';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/purchase-data.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction CartSummaryComponent_li_16_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const excursion_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(excursion_r3.getExcursionTitle());\n  }\n}\n\nfunction CartSummaryComponent_li_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1, \"Vacation: \");\n    i0.ɵɵelementStart(2, \"b\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Excursions:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ul\");\n    i0.ɵɵtemplate(7, CartSummaryComponent_li_16_li_7_Template, 2, 1, \"li\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const cartItem_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(cartItem_r1.getVacation().getVacationTitle());\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", cartItem_r1.getExcursions());\n  }\n}\n\nconst _c0 = function () {\n  return [\"/order-confirmation\"];\n};\n/**\r\n * Cart Summary\r\n * manages values for cart summary display\r\n *\r\n *\r\n */\n\n\nexport let CartSummaryComponent = /*#__PURE__*/(() => {\n  class CartSummaryComponent {\n    constructor(http, route, purchaseDataService) {\n      this.http = http;\n      this.route = route;\n      this.purchaseDataService = purchaseDataService;\n      this.cartItemsUrl = \"\";\n      this.checkoutUrl = \"http://localhost:8080/api/checkout/purchase\";\n      this.customerUrl = \"http://localhost:8080/api/customers\";\n      this.cartsUrl = \"http://localhost:8080/api/carts\";\n      this.cartId = 0;\n      this.cartItems = [];\n      this.vacations = new Set();\n      this.customer = new Customer(0, \"\", \"\", \"\", \"\", \"\", 0);\n      this.package_price = 0;\n      this.party_size = 1;\n      this.cartItemList = [];\n    }\n\n    ngOnInit() {\n      // get data service\n      this.purchaseDataService.purchaseServiceData.subscribe(serviceData => {\n        // // console.log('Excursion Detail Current Data Service:', serviceData);\n        this.purchaseServiceDto = serviceData;\n      }); // get customer details\n\n      this.populateCustomerFromService(); // get the package price\n\n      this.package_price = this.purchaseServiceDto.getCart().getPackagePrice();\n      this.party_size = this.purchaseServiceDto.getCart().getPartySize(); // build list of vacations with excursions for each to populate html\n\n      this.cartItemList = this.purchaseServiceDto.getCartItems();\n    } // get values from data service for page\n\n\n    populateCustomerFromService() {\n      this.customer.id = this.purchaseServiceDto.getCustomer().getId();\n      this.customer.address = this.purchaseServiceDto.getCustomer().getAddress();\n      this.customer.postal_code = this.purchaseServiceDto.getCustomer().getPostalCode();\n      this.customer.firstName = this.purchaseServiceDto.getCustomer().getFirstName();\n      this.customer.lastName = this.purchaseServiceDto.getCustomer().getLastName();\n      this.customer.phone = this.purchaseServiceDto.getCustomer().getPhone();\n    }\n\n  }\n\n  CartSummaryComponent.ɵfac = function CartSummaryComponent_Factory(t) {\n    return new (t || CartSummaryComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.PurchaseDataService));\n  };\n\n  CartSummaryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CartSummaryComponent,\n    selectors: [[\"app-cart-summary\"]],\n    decls: 24,\n    vars: 12,\n    consts: [[1, \"content\"], [1, \"customer-info-container\"], [1, \"cart-items-container\"], [4, \"ngFor\", \"ngForOf\"], [1, \"total\"], [1, \"checkout-button\", \"button-31\", 3, \"routerLink\"]],\n    template: function CartSummaryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \"Customer Information\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\");\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"p\");\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"p\");\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 2)(13, \"h2\");\n        i0.ɵɵtext(14, \"Cart Summary\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ul\");\n        i0.ɵɵtemplate(16, CartSummaryComponent_li_16_Template, 9, 2, \"li\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"p\", 4)(18, \"b\");\n        i0.ɵɵtext(19);\n        i0.ɵɵpipe(20, \"number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"button\", 5)(22, \"a\");\n        i0.ɵɵtext(23, \"Checkout\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate2(\"\", ctx.customer.firstName, \" \", ctx.customer.lastName, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Address: \", ctx.customer.address, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Postal Code: \", ctx.customer.postal_code, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Phone: \", ctx.customer.phone, \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.cartItemList);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Total: $\", i0.ɵɵpipeBind2(20, 8, ctx.package_price, \"1.2-2\"), \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(11, _c0));\n      }\n    },\n    dependencies: [i4.NgForOf, i2.RouterLink, i4.DecimalPipe],\n    styles: [\".customer-info-container[_ngcontent-%COMP%]{margin:16px;background:#ECECEC;color:#000;border-radius:10px;padding:16px;min-width:350px}.cart-items-container[_ngcontent-%COMP%]{margin:16px;right:0;left:0;background:#ECECEC;color:#000;border-radius:10px;padding:16px;text-align:left}.cart-items-container[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}.cart-items-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px}.cart-items-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:10px}.cart-items-container[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:40px;padding-left:0}p.total[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:0 auto}.checkout-button-container[_ngcontent-%COMP%]{margin:16px;right:0;left:0;background:white;color:#000;border-radius:10px;padding:16px;text-align:center}.checkout-button[_ngcontent-%COMP%]{background-color:#222;border-radius:4px;border-style:none;color:#fff;cursor:pointer;display:block;font-family:Farfetch Basis,Helvetica Neue,Arial,sans-serif;font-size:16px;font-weight:700;margin:45px auto 0;min-height:44px;min-width:-moz-fit-content;min-width:fit-content;padding:9px 20px 8px;user-select:none;-webkit-user-select:none;touch-action:manipulation}.checkout-button[_ngcontent-%COMP%]:hover, .checkout-button[_ngcontent-%COMP%]:focus{opacity:.75}\"]\n  });\n  return CartSummaryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}