{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/flex-layout/flex\";\nimport * as i8 from \"../cart/cart.component\";\n\nconst _c0 = function (a1, a3) {\n  return [\"/vacation\", a1, \"excursions\", a3];\n};\n\nfunction ExcursionComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"mat-card\", 7);\n    i0.ɵɵelement(2, \"img\", 8);\n    i0.ɵɵelementStart(3, \"mat-card-header\")(4, \"mat-card-title\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"mat-card-content\")(7, \"p\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"mat-card-actions\")(11, \"button\", 10)(12, \"mat-icon\", 11);\n    i0.ɵɵtext(13, \"shopping_cart\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const excursion_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", excursion_r1.image_URL, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(excursion_r1.excursion_title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" $\", i0.ɵɵpipeBind2(9, 4, excursion_r1.excursion_price, \"1.2-2\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(7, _c0, ctx_r0.vacationId, excursion_r1.id));\n  }\n}\n\nexport let ExcursionComponent = /*#__PURE__*/(() => {\n  class ExcursionComponent {\n    constructor(http, route) {\n      this.http = http;\n      this.route = route;\n      this.vacationUrl = 'http://localhost:8080/api/vacations/';\n      this.excursions = [];\n      this.vacationId = 0;\n      this.vacationTitle = '';\n    }\n\n    ngOnInit() {\n      // vacation from page\n      this.vacationId = +this.route.snapshot.paramMap.get('vacationId');\n      this.getVacationTitle().subscribe(title => {\n        this.vacationTitle = title;\n      });\n      this.getExcursions().subscribe(excursions => {\n        excursions.forEach(excursion => {\n          let parsedId = excursion._links.self.href.split(\"/\")[5];\n\n          excursion.id = parseInt(parsedId);\n        });\n        this.excursions = excursions.sort(function (a, b) {\n          if (a.excursion_title < b.excursion_title) {\n            return -1;\n          }\n\n          if (a.excursion_title > b.excursion_title) {\n            return 1;\n          }\n\n          return 0;\n        });\n      });\n    }\n\n    getExcursions() {\n      return this.http.get(this.vacationUrl + this.vacationId + '/excursions').pipe(map(response => response._embedded.excursions));\n    }\n\n    getVacationTitle() {\n      return this.http.get(this.vacationUrl + this.vacationId).pipe(map(response => response.vacation_title));\n    }\n\n  }\n\n  ExcursionComponent.ɵfac = function ExcursionComponent_Factory(t) {\n    return new (t || ExcursionComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  ExcursionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ExcursionComponent,\n    selectors: [[\"app-excursion\"]],\n    decls: 10,\n    vars: 2,\n    consts: [[1, \"content\"], [\"fxLayout\", \"row wrap\", \"fxLayoutGap\", \"16px grid\", 1, \"grid\"], [\"fxFlex\", \"25%\", \"fxFlex.xs\", \"100%\", \"fxFlex.sm\", \"33%\", 4, \"ngFor\", \"ngForOf\"], [1, \"cart-container\"], [1, \"vl\"], [1, \"cart\"], [\"fxFlex\", \"25%\", \"fxFlex.xs\", \"100%\", \"fxFlex.sm\", \"33%\"], [1, \"mat-elevation-z4\"], [\"mat-card-image\", \"\", 1, \"vacation-card-image\", 3, \"src\"], [1, \"price\"], [\"mat-button\", \"\", 1, \"menu-button\", 3, \"routerLink\"], [1, \"icon-display\"]],\n    template: function ExcursionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"br\");\n        i0.ɵɵelementStart(4, \"div\", 1);\n        i0.ɵɵtemplate(5, ExcursionComponent_div_5_Template, 14, 10, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵelement(7, \"div\", 4);\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵelement(9, \"app-cart\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.vacationTitle);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.excursions);\n      }\n    },\n    dependencies: [i3.NgForOf, i2.RouterLink, i4.MatButton, i5.MatIcon, i6.MatCard, i6.MatCardHeader, i6.MatCardContent, i6.MatCardTitle, i6.MatCardActions, i6.MatCardImage, i7.DefaultLayoutDirective, i7.DefaultLayoutGapDirective, i7.DefaultFlexDirective, i8.CartComponent, i3.DecimalPipe],\n    styles: [\".content[_ngcontent-%COMP%]{display:block;margin-top:25px;margin-left:auto;margin-right:auto;width:99%}.vacation-card-image[_ngcontent-%COMP%]{width:100%;height:300px;display:block;margin-left:0;margin-right:0;padding-left:0;padding-right:0}.vacation-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%}.mat-card[_ngcontent-%COMP%]{padding:0;margin-bottom:20px}.mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.price[_ngcontent-%COMP%]{font-size:1.3rem}.menu-button[_ngcontent-%COMP%]{position:absolute;bottom:18px;right:25px;transform:scale(1.5);width:0px}.grid[_ngcontent-%COMP%]{float:left;width:80%}.cart-container[_ngcontent-%COMP%]{float:right;width:20%}.cart[_ngcontent-%COMP%]{background:white;color:#000;border-radius:10px;text-align:center;padding:16px 16px 16px 0;margin:16px 16px 16px 5px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}\"]\n  });\n  return ExcursionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}