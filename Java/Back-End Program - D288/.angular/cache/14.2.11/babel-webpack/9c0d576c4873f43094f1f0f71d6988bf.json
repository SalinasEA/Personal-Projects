{"ast":null,"code":"import { map } from 'rxjs';\nimport { Country } from 'src/app/model/country';\nimport { Division } from 'src/app/model/division';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction AddCustomerComponent_option_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const country_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", country_r2.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(country_r2.country_name);\n  }\n}\n\nfunction AddCustomerComponent_option_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const division_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", division_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(division_r3.division_name);\n  }\n}\n/**\r\n *  Add Customer\r\n *  adds new customer to the database\r\n *\r\n */\n\n\nexport let AddCustomerComponent = /*#__PURE__*/(() => {\n  class AddCustomerComponent {\n    constructor(http, router) {\n      this.http = http;\n      this.router = router;\n      this.customerUrl = 'http://localhost:8080/api/customers';\n      this.countryUrl = 'http://localhost:8080/api/countries';\n      this.divisionUrl = 'http://localhost:8080/api/divisions';\n      this.countries = [];\n      this.divisions = [];\n      this.firstName = '';\n      this.lastName = '';\n      this.address = '';\n      this.postal_code = '';\n      this.phone = '';\n      this.countryChoice = new Country(0, \"\", {\n        self: {\n          href: \"\"\n        }\n      });\n      this.divisionChoice = new Division(0, \"\", 0, {\n        country: {\n          href: \"\"\n        },\n        self: {\n          href: \"\"\n        }\n      });\n    }\n\n    ngOnInit() {\n      this.getCountries().subscribe(countries => this.countries = countries);\n      this.getDivisions().subscribe(divisions => this.divisions = divisions);\n    }\n\n    getCountries() {\n      return this.http.get(this.countryUrl).pipe(map(response => response._embedded.countries));\n    }\n\n    getDivisions() {\n      return this.http.get(this.divisionUrl).pipe(map(response => response._embedded.divisions));\n    }\n\n    getDivisionsByCountryId(id) {\n      return this.divisions.filter(division => {\n        return division.country_id == parseInt(id);\n      });\n    }\n\n    onSubmit() {\n      let customer = {\n        firstName: this.firstName,\n        lastName: this.lastName,\n        address: this.address,\n        postal_code: this.postal_code,\n        phone: this.phone,\n        country: this.countryUrl + \"/\" + this.countryChoice,\n        division: this.divisionUrl + \"/\" + this.divisionChoice\n      }; // post to customer\n\n      this.http.post(this.customerUrl, customer).subscribe();\n      this.router.navigate([\"/customer\"]).then(() => {\n        window.location.reload();\n      });\n    }\n\n  }\n\n  AddCustomerComponent.ɵfac = function AddCustomerComponent_Factory(t) {\n    return new (t || AddCustomerComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  AddCustomerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddCustomerComponent,\n    selectors: [[\"app-add-customer\"]],\n    decls: 36,\n    vars: 9,\n    consts: [[1, \"form\", 3, \"ngSubmit\"], [1, \"input-container\"], [\"for\", \"firstName\"], [\"id\", \"firstName\", \"name\", \"firstName\", \"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lastName\"], [\"id\", \"lastName\", \"name\", \"lastName\", \"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"address\"], [\"id\", \"address\", \"name\", \"address\", \"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"postal_code\"], [\"id\", \"postal_code\", \"name\", \"postal_code\", \"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"phone\"], [\"id\", \"phone\", \"name\", \"phone\", \"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"country\", \"name\", \"country\", 3, \"ngModel\", \"ngModelChange\"], [\"selected\", \"true\", \"disabled\", \"disabled\", \"hidden\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"division\", \"name\", \"division\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"button-31\"], [3, \"value\"]],\n    template: function AddCustomerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function AddCustomerComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\")(3, \"label\", 2);\n        i0.ɵɵtext(4, \" First Name \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function AddCustomerComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.firstName = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\")(7, \"label\", 4);\n        i0.ɵɵtext(8, \" Last Name \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function AddCustomerComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.lastName = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\")(11, \"label\", 6);\n        i0.ɵɵtext(12, \" Address \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function AddCustomerComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.address = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\")(15, \"label\", 8);\n        i0.ɵɵtext(16, \" Postal Code \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function AddCustomerComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.postal_code = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\")(19, \"label\", 10);\n        i0.ɵɵtext(20, \" Phone Number \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AddCustomerComponent_Template_input_ngModelChange_21_listener($event) {\n          return ctx.phone = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\")(23, \"label\");\n        i0.ɵɵtext(24, \" Country \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"select\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function AddCustomerComponent_Template_select_ngModelChange_25_listener($event) {\n          return ctx.countryChoice = $event;\n        });\n        i0.ɵɵelement(26, \"option\", 13);\n        i0.ɵɵtemplate(27, AddCustomerComponent_option_27_Template, 2, 2, \"option\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\")(29, \"label\");\n        i0.ɵɵtext(30, \" Division \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"select\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function AddCustomerComponent_Template_select_ngModelChange_31_listener($event) {\n          return ctx.divisionChoice = $event;\n        });\n        i0.ɵɵelement(32, \"option\", 13);\n        i0.ɵɵtemplate(33, AddCustomerComponent_option_33_Template, 2, 2, \"option\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"button\", 16);\n        i0.ɵɵtext(35, \"Add Customer\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.firstName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.lastName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.address);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.postal_code);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.phone);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.countryChoice);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.countries);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.divisionChoice);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.getDivisionsByCountryId(ctx.countryChoice));\n      }\n    },\n    dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n    styles: [\"body[_ngcontent-%COMP%]{align-items:center;background-color:#000;display:flex;justify-content:center;height:100vh}.form[_ngcontent-%COMP%]{border-radius:20px;box-sizing:border-box;padding:20px;min-width:320px}.title[_ngcontent-%COMP%]{color:#eee;font-family:sans-serif;font-size:36px;font-weight:600;margin-top:30px}.subtitle[_ngcontent-%COMP%]{color:#eee;font-family:sans-serif;font-size:16px;font-weight:600;margin-top:10px}.ic1[_ngcontent-%COMP%]{margin-top:40px}.ic2[_ngcontent-%COMP%]{margin-top:30px}.input[_ngcontent-%COMP%]{border-radius:12px;border:0;box-sizing:border-box;color:#eee;font-size:18px;height:100%;outline:0;padding:4px 20px 0;width:100%}.cut[_ngcontent-%COMP%]{background-color:#15172b;border-radius:10px;height:20px;left:20px;position:absolute;top:-20px;transform:translateY(0);transition:transform .2s;width:76px}.cut-short[_ngcontent-%COMP%]{width:50px}.input[_ngcontent-%COMP%]:focus ~ .cut[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .cut[_ngcontent-%COMP%]{transform:translateY(8px)}.placeholder[_ngcontent-%COMP%]{color:#65657b;font-family:sans-serif;left:20px;line-height:14px;pointer-events:none;position:absolute;transform-origin:0 50%;transition:transform .2s,color .2s;top:20px}.input[_ngcontent-%COMP%]:focus ~ .placeholder[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .placeholder[_ngcontent-%COMP%]{transform:translateY(-30px) translate(10px) scale(.75)}.input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .placeholder[_ngcontent-%COMP%]{color:#808097}.input[_ngcontent-%COMP%]:focus ~ .placeholder[_ngcontent-%COMP%]{color:#dc2f55}.submit[_ngcontent-%COMP%]{border-radius:12px;border:0;box-sizing:border-box;color:#eee;cursor:pointer;font-size:18px;height:50px;margin-top:38px;outline:0;text-align:center;width:100%}.submit[_ngcontent-%COMP%]:active{background-color:#06b}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0 20px;display:inline-block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.button-31[_ngcontent-%COMP%]{background-color:#222;border-radius:4px;border-style:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:Farfetch Basis,Helvetica Neue,Arial,sans-serif;font-size:16px;font-weight:700;line-height:1.5;margin:0;max-width:none;min-height:44px;outline:none;overflow:hidden;padding:9px 20px 8px;position:relative;text-align:center;text-transform:none;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-31[_ngcontent-%COMP%]:hover, .button-31[_ngcontent-%COMP%]:focus{opacity:.75}\"]\n  });\n  return AddCustomerComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}